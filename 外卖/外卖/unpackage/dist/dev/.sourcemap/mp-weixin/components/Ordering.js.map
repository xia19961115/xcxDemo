{"version":3,"sources":["webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?fffe","webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?7571","webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?180c","webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?b582","uni-app:///components/Ordering.vue","webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?d79a","webpack:///C:/Users/pc/Desktop/外卖/components/Ordering.vue?5fbc"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACyL;AACzL,gBAAgB,6LAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAssB,CAAgB,ksBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkF1tB;AACA;AACA,gBADA,EADA;;AAIA,qCAJA;;AAMA,MANA,kBAMA;AACA;AACA;AACA,iBAFA;AAGA;AACA,eAJA;AAKA,qBALA;AAMA;AACA,oBAPA;AAQA;AACA,oBATA;AAUA;AACA,oBAXA;AAYA;AACA,mBAbA;AAcA;AACA,sBAfA;AAgBA;AACA,wBAjBA;AAkBA;AACA,gBAnBA;AAoBA;AACA,uBArBA;AAsBA;AACA,sBAvBA;AAwBA;AACA,kBAzBA;AA0BA;AACA,oBA3BA;AA4BA;AACA,oBA7BA;AA8BA;AACA,kBA/BA;AAgCA;AACA,cAjCA;AAkCA;AACA,iBAnCA;;AAqCA,GA5CA;AA6CA;AACA;AACA,cAFA,wBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;AAGA,gCAHA;AAIA,qCAJA;AAKA,iCALA;AAMA,yBANA;AAOA,iCAPA;;AASA;AACA;AACA;AACA,6DADA;;;AAIA;;AAEA,KAxCA;AAyCA;AACA,eA1CA,uBA0CA,KA1CA,EA0CA,SA1CA,EA0CA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAlDA;AAmDA;AACA;AACA,QArDA,gBAqDA,OArDA,EAqDA,MArDA,EAqDA,SArDA,EAqDA,KArDA,EAqDA,KArDA,EAqDA,KArDA,EAqDA;AACA;AACA;AACA;AACA;AACA,KA1DA;AA2DA;AACA,UA5DA,kBA4DA,OA5DA,EA4DA,MA5DA,EA4DA,SA5DA,EA4DA,KA5DA,EA4DA,KA5DA,EA4DA,KA5DA,EA4DA;AACA;AACA;AACA,KA/DA;AAgEA;AACA,YAjEA,oBAiEA,MAjEA,EAiEA,SAjEA,EAiEA,KAjEA,EAiEA,KAjEA,EAiEA,KAjEA,EAiEA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AAEA,OAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAFA;AAGA;AACA,8BAJA;AAKA;AACA,oBANA;AAOA;AACA,oBARA;AASA;AACA,6BAVA;AAWA;AACA,oBAZA;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,KAnHA,EA7CA;;;AAmKA;AACA,eADA,yBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,EAHA;AAIA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA,OAFA,EAEA,CAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KAjCA;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aA1DA,uBA0DA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA,KA/EA,EAnKA;;;;;;;;;AA2PA;AACA;AACA,gBAFA,wBAEA,QAFA,EAEA,QAFA,EAEA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KA7BA;AA8BA;AACA,YA/BA,oBA+BA,QA/BA,EA+BA,QA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1CA,EA3PA,E;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAwhC,CAAgB,++BAAG,EAAC,C;;;;;;;;;;;ACA5iC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/Ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./Ordering.vue?vue&type=template&id=20b137a2&scoped=true&\"\nvar renderjs\nimport script from \"./Ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./Ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ordering.vue?vue&type=style&index=0&id=20b137a2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20b137a2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/Ordering.vue\"\nexport default component.exports","export * from \"-!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Ordering.vue?vue&type=template&id=20b137a2&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Ordering.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"ordering-fls\">\r\n\t\t\t<!-- 商品分类左边 -->\r\n\t\t\t<view class=\"ordering-left\">\r\n\t\t\t\t<block v-for=\"(item,index) in orderclass\" :key=\"index\">\r\n\t\t\t\t\t<text :class=\"{activeord:index == numing}\" @click=\"ordermeClic(index,item)\">{{item}}</text>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<!-- 商品列表：右边 -->\r\n\t\t\t<view class=\"ordering-right\">\r\n\t\t\t\t<text class=\"ordering-right-title\">{{ordertitle}}</text>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<block v-for=\"(item,index) in classifarr\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"content-view\">\r\n\t\t\t\t\t\t\t<!-- 左边商品图片 -->\r\n\t\t\t\t\t\t\t<view class=\"content-img\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.objdis.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 右边商品 -->\r\n\t\t\t\t\t\t\t<view class=\"content-title\">\r\n\t\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.objdis.input}}</text>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\r\n\t\t\t\t\t\t\t\t\t<block v-for=\"(itemdata,index) in item.objdis.tags\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{itemdata}}</text>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-starting\">\r\n\t\t\t\t\t\t\t\t\t<text>月售10</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-price\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.objdis.Discount}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.objdis.Price}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\r\n\t\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\t@click=\"reDuce(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" \r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/static/coen/jianhao.png\"\r\n\t\t\t\t\t\t\t\t\t\t mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<image \r\n\t\t\t\t\t\t\t\t\t\t@click=\"pLus(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" \r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/static/coen/jiahao.png\"\r\n\t\t\t\t\t\t\t\t\t\t mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 总价计算区域 -->\r\n\t\t\t<view class=\"Shopping\">\r\n\t\t\t\t<!-- 骑手 -->\r\n\t\t\t\t<view class=\"qishou\">\r\n\t\t\t\t\t<image v-if=\"!isActive\" src=\"/static/coen/weigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t<image v-if=\"isActive\" src=\"/static/coen/yigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 多少量 -->\r\n\t\t\t\t<view class=\"Numbering\" v-if=\"listNum\">{{listNum}}</view>\r\n\t\t\t\t<!-- 金额 -->\r\n\t\t\t\t<view class=\"Shopping-dis\">\r\n\t\t\t\t\t<view class=\"Shopping-left\">\r\n\t\t\t\t\t\t<view class=\"Cost-mony\">\r\n\t\t\t\t\t\t\t<text class=\"Total-price\">¥{{Takeawayprice}}</text>\r\n\t\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{physical}}元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"Shopping-right\" :class=\"{shoppactive: isActive}\" @click=\"flat && settLement()\">\r\n\t\t\t\t\t\t<text v-if=\"!isActive\">{{delivering}}元起送</text>\r\n\t\t\t\t\t\t<text v-if=\"isActive\">{{difference}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 登录模态弹窗组件 -->\r\n\t\t<motal ref=\"mon\"></motal>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// 引入登录模态弹窗组件\r\n\timport motal from '../element/modal.vue'\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tmotal\r\n\t\t},\r\n\t\tprops: ['orderingdata', 'busidata'],\r\n\t\t\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 禁止点击\r\n\t\t\t\tflat: false,\r\n\t\t\t\t// 商品分类左边\r\n\t\t\t\tnuming: 0,\r\n\t\t\t\tisActive: false,\r\n\t\t\t\t// 左边的分类\r\n\t\t\t\torderclass: [],\r\n\t\t\t\t// 右边默认展示的分类\r\n\t\t\t\tordertitle: '',\r\n\t\t\t\t// 右边默认展示的商品\r\n\t\t\t\tclassifarr: [],\r\n\t\t\t\t// 所有的商品数据\r\n\t\t\t\tcommodity: [],\r\n\t\t\t\t// 配送费\r\n\t\t\t\tphysical: Number,\r\n\t\t\t\t// 起送费\r\n\t\t\t\tdelivering: Number,\r\n\t\t\t\t// 商品数量\r\n\t\t\t\tamount: '',\r\n\t\t\t\t// 存放得到总价的商品\r\n\t\t\t\tarrtotalPrice: [],\r\n\t\t\t\t// 所有商品累积的总价\r\n\t\t\t\tTakeawayprice: 0,\r\n\t\t\t\t// 选择了几份商品\r\n\t\t\t\tTakeleng: [],\r\n\t\t\t\t//还差多少满足起送金额\r\n\t\t\t\tdifference: '',\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tMerchantId: '',\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tnameshop: '',\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tlogo: '',\r\n\t\t\t\t//商品数量综合\r\n\t\t\t\tlistNum:'',\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//去结算\r\n\t\t\tsettLement(){\r\n\t\t\t\tconsole.log(\"去结算\");\r\n\t\t\t\t// 去结算前的条件就是必须已经登录：到本地存储去查看是否已经有用户信息\r\n\t\t\t\tlet setdata = uni.getStorageSync('usermen')\r\n\t\t\t\tif(!setdata){\r\n\t\t\t\t\tconsole.log(\"用户没有登录\");\r\n\t\t\t\t\t//弹出模态登录框\r\n\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\tthis.$refs.mon.init()\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log(\"用户已经登录\");\r\n\t\t\t\t\t//做支付\r\n\t\t\t\t\t// 需要支付的总金额\r\n\t\t\t\t\t// 配送费\r\n\t\t\t\t\t// 用户openid\r\n\t\t\t\t\t// 商家标识：身份证\r\n\t\t\t\t\t// 商家名称\r\n\t\t\t\t\t// 商家logo\r\n\t\t\t\t\t// 点的商品个数\r\n\t\t\t\t\tlet payment = parseFloat((this.Takeawayprice + this.physical).toFixed(10))\r\n\t\t\t\t\tlet Ordering = {\r\n\t\t\t\t\t\tpayment,\r\n\t\t\t\t\t\tphysical:this.physical,\r\n\t\t\t\t\t\topenid:setdata.openid,\r\n\t\t\t\t\t\tMerchantId:this.MerchantId,\r\n\t\t\t\t\t\tnameshop:this.nameshop,\r\n\t\t\t\t\t\tlogo:this.logo,\r\n\t\t\t\t\t\tallorder:this.Takeleng\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//带过去的参数必须是字符串\r\n\t\t\t\t\tlet strorder = JSON.stringify(Ordering)\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages/placeorder/placeorder?ide='+strorder\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t//左边商品分类的切换\r\n\t\t\tordermeClic(index, itemclass) {\r\n\t\t\t\tthis.numing = index\r\n\t\t\t\tthis.ordertitle = itemclass\r\n\t\t\t\t// 分类切换\r\n\t\t\t\tlet itemarr = this.commodity.filter((item) => {\r\n\t\t\t\t\treturn item.optidata == itemclass\r\n\t\t\t\t})\r\n\t\t\t\tthis.classifarr = itemarr\r\n\t\t\t},\r\n\t\t\t//加价\r\n\t\t\t//第一个参数  0 元 第二个参数 商品ID 第三个参数 商品下标 第四个参数 商品价格  五图片 六 商品介绍\r\n\t\t\tpLus(amounts,indexs,indexdata,price,image,input) {\r\n\t\t\t\t//商品数量\r\n\t\t\t\tthis.amount = Number(amounts) + Number(1)\r\n\t\t\t\t// console.log(this.amount);\r\n\t\t\t\tthis.pullData(indexs,indexdata,price,image,input)\r\n\t\t\t},\r\n\t\t\t//减价\r\n\t\t\treDuce(amounts,indexs,indexdata,price,image,input) {\r\n\t\t\t\tthis.amount = Number(amounts) - Number(1)\r\n\t\t\t\tthis.pullData(indexs,indexdata,price,image,input)\r\n\t\t\t},\r\n\t\t\t// 加减价公用函数(不写上面的amount在数组中始终为0)\r\n\t\t\tpullData(indexs,indexdata,price,image,input) {\r\n\t\t\t\tlet findarr = this.classifarr.filter((item, index) => {\r\n\t\t\t\t\t//用户点击的物品 直接对应 物品的唯一ID标识\r\n\t\t\t\t\tif (item._id == indexs) {\r\n\t\t\t\t\t\tif (this.amount < 1) {\r\n\t\t\t\t\t\t\treturn item.amount = '0'\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn item.amount = this.amount\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(findarr);\r\n\t\t\t\t// 得到更改的数组重新更新classifarr数组，数组顺序要保持不变\r\n\t\t\t\tthis.classifarr[indexdata] = findarr[0]\r\n\t\t\t\t//计算总价  单价*数量\r\n\t\t\t\tif(Number(this.amount) <=0){\r\n\t\t\t\t\tthis.amount=0\r\n\t\t\t\t}\r\n\t\t\t\tlet Totalnum = price* Number(this.amount)\r\n\t\t\t\t// console.log(Totalnum);\r\n\t\t\t\t// 解决总价为浮点数的情况\r\n\t\t\t\tlet Totalprice = parseFloat((Totalnum).toFixed(10))\r\n\t\t\t\t// console.log(Totalprice)\r\n\t\t\t\t// 把单个商品得到的总价作为一个对象push到数组里，方便后面\r\n\t\t\t\t// 多个商品总价计算时来得到最终的价格\r\n\t\t\t\tlet fands={\r\n\t\t\t\t\t//商品ID值(键值/名 相同)\r\n\t\t\t\t\tindexs,\r\n\t\t\t\t\t//总价\r\n\t\t\t\t\tTotalprice,\r\n\t\t\t\t\t//图片\r\n\t\t\t\t\timage,\r\n\t\t\t\t\t//名称\r\n\t\t\t\t\tinput,\r\n\t\t\t\t\t//数量\r\n\t\t\t\t\t\"amount\":this.amount,\r\n\t\t\t\t\t//单价\r\n\t\t\t\t\tprice\r\n\t\t\t\t}\r\n\t\t\t\tthis.arrtotalPrice.push(fands)\r\n\t\t\t\t// console.log(this.arrtotalPrice);\r\n\t\t\t\t// 查询当前点击的商品ID，替换总价\r\n\t\t\t\tlet findarrdata = this.arrtotalPrice.map((item)=>{\r\n\t\t\t\t\t//如果商品ID 相同 这个吧fands重新赋值可以直接拿到总价(第一项中Totalprice) *tips\r\n\t\t\t\t\treturn item.indexs == indexs ? fands : item\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(findarrdata)\r\n\t\t\t\t//让上面的数组重新变成 点击相同ID的物品 总价都相等, 最后进行去重\r\n\t\t\t\tthis.arrtotalPrice = findarrdata\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tcalculation(){\r\n\t\t\t\t// 监听总价\r\n\t\t\t\t// 1数组对象去重 :累加器：reduce()\r\n\t\t\t\tlet arr = {}\r\n\t\t\t\tlet arrdata = this.arrtotalPrice.reduce((preVal,curVal)=>{\r\n\t\t\t\t\tarr[curVal.indexs] ? '' : arr[curVal.indexs] = true && preVal.push(curVal)\r\n\t\t\t\t\treturn preVal\r\n\t\t\t\t},[])\r\n\t\t\t\t// console.log(arrdata);\r\n\t\t\t\t// 剔除总价为0的商品\r\n\t\t\t\tthis.Takeleng = arrdata.filter((item)=>{\r\n\t\t\t\t\treturn item.Totalprice != 0\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.Takeleng);\r\n\t\t\t\t//获取商品数量\r\n\t\t\t\tlet num = this.Takeleng.map((item)=>{\r\n\t\t\t\t\tlet counts =0\r\n\t\t\t\t\treturn counts+= item.amount\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(num);\r\n\t\t\t\t//得到商品数量综合\r\n\t\t\t\tthis.listNum=num.reduce((pre,item)=>{\r\n\t\t\t\t\treturn pre+item\r\n\t\t\t\t},0)\r\n\t\t\t\t// console.log(this.listNum);\r\n\t\t\t\t// 所有商品的总价累积之和\r\n\t\t\t\tlet numdata = 0\r\n\t\t\t\tarrdata.forEach((item)=>{\r\n\t\t\t\t\tnumdata += item.Totalprice\r\n\t\t\t\t})\r\n\t\t\t\t// 得到的总价去除浮点数\r\n\t\t\t\tthis.Takeawayprice = parseFloat((numdata).toFixed(10))\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// //监听是否已经选择商品\r\n\t\t\t// choiceTake(){\r\n\t\t\t// \tif(this.Takeawayprice===0){\r\n\t\t\t// \t\tthis.isActive =false\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\tthis.isActive =true\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\t// //监听起送价格是否满足\r\n\t\t\t// deliVering(){\r\n\t\t\t// \tif(this.Takeawayprice < this.delivering ){\r\n\t\t\t// \t\t//不满足起送金额(起送金额-总价)\r\n\t\t\t// \t\tlet preceMen =parseFloat((this.delivering - this.Takeawayprice).toFixed(10))\r\n\t\t\t// \t\tconsole.log(preceMen);\r\n\t\t\t// \t\tthis.difference=`还差${preceMen}元`\r\n\t\t\t// \t\tthis.flat =false\r\n\t\t\t// \t}else{\r\n\t\t\t// \t\tthis.difference='去结算'\r\n\t\t\t// \t\tthis.flat=true\r\n\t\t\t// \t}\r\n\t\t\t\r\n\t\t\t// },\r\n\t\t\t//是否满足下单的条件\r\n\t\t\tcondition(){\r\n\t\t\t\t//是否选择任何一个商品\r\n\t\t\t\tif(this.Takeawayprice===0){\r\n\t\t\t\t\tthis.isActive =false\r\n\t\t\t\t\tthis.flat =false\r\n\t\t\t\t\tconsole.log('没有商品');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isActive =true\r\n\t\t\t\t\tthis.flat=true\r\n\t\t\t\t\tconsole.log('有商品');\r\n\t\t\t\t\tif(this.Takeawayprice < this.delivering ){\r\n\t\t\t\t\t\t//不满足起送金额(起送金额-总价)\r\n\t\t\t\t\t\tlet preceMen =parseFloat((this.delivering - this.Takeawayprice).toFixed(10))\r\n\t\t\t\t\t\tconsole.log(preceMen);\r\n\t\t\t\t\t\tthis.difference=`还差${preceMen}元`\r\n\t\t\t\t\t\tthis.flat =false\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.difference='去结算'\r\n\t\t\t\t\t\tthis.flat=true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\twatch: {\r\n\t\t\t// 用户进入该页面，1.默认展示在第一个tab上（盖浇饭），2.并且展示该分类下面的商品\r\n\t\t\torderingdata(newvalue, oldvalue) {\r\n\t\t\t\t// console.log(newvalue);\r\n\t\t\t\t// 1取出左边的商品分类\r\n\t\t\t\tlet classifdata = newvalue.map((item) => {\r\n\t\t\t\t\treturn item.optidata\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(classifdata);\r\n\t\t\t\t// 数组去重\r\n\t\t\t\tlet setdataarr = Array.from(new Set(classifdata))\r\n\t\t\t\t// console.log(setdataarr);\r\n\t\t\t\tthis.orderclass = setdataarr\r\n\t\t\t\t// 2右边的商品\r\n\t\t\t\tthis.commodity = newvalue\r\n\t\t\t\t// 3右边默认分类为第一个分类\r\n\t\t\t\tthis.ordertitle = newvalue[0].optidata\r\n\t\t\t\t// 4往商品里添加一个字段为0\r\n\t\t\t\tlet commoditytata = newvalue.map((item) => {\r\n\t\t\t\t\tlet key = 'amount'\r\n\t\t\t\t\tlet value = 0\r\n\t\t\t\t\treturn item[key] = value\r\n\t\t\t\t})\r\n\t\t\t\t// 5右边默认展示的商品是第一个分类下的商品\r\n\t\t\t\tlet classifarr = this.commodity.filter((item) => {\r\n\t\t\t\t\treturn item.optidata == newvalue[0].optidata\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(classifarr);\r\n\t\t\t\tthis.classifarr = classifarr\r\n\t\t\t},\r\n\t\t\t// 商家介绍\r\n\t\t\tbusidata(newvalue, oldvalue) {\r\n\t\t\t\t// 配送费\r\n\t\t\t\tthis.physical = newvalue.physical\r\n\t\t\t\t// 起送价\r\n\t\t\t\tthis.delivering = newvalue.delivering\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tthis.MerchantId = newvalue.openid\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tthis.nameshop = newvalue.shop\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tthis.logo = newvalue.logo\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.ordering-fls {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t/* 左边商品分类 */\r\n\t.ordering-left {\r\n\t\twidth: 190rpx;\r\n\t\tbackground: #fafafa;\r\n\t\toverflow-y: auto;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.ordering-left text {\r\n\t\tcolor: #a8a8a8;\r\n\t\tdisplay: block;\r\n\t\tfont-size: 28rpx;\r\n\t\theight: 80rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.activeord {\r\n\t\tbackground: #FFFFFF !important;\r\n\t\tfont-weight: bold !important;\r\n\t}\r\n\r\n\t/* 右边 */\r\n\t.ordering-right {\r\n\t\twidth: 100%;\r\n\t\tpadding: 9rpx 9rpx 130rpx 9rpx;\r\n\t\toverflow: hidden;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.activeord {\r\n\t\tbackground: #FFFFFF !important;\r\n\t\tfont-weight: bold !important;\r\n\t}\r\n\r\n\t.ordering-right-title {\r\n\t\tfont-size: 28rpx;\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t}\r\n\r\n\t.content-view {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\theight: 200rpx !important;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 30rpx 0;\r\n\t\tcolor: #898989;\r\n\t}\r\n\r\n\t.content-img {\r\n\t\twidth: 180rpx !important;\r\n\t\theight: 200rpx !important;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.content-img image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 10rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.content-title {\r\n\t\t/* width: 100%; */\r\n\t\tpadding-left: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.conteng-take {\r\n\t\tcolor: #333333;\r\n\t\theight: 50rpx;\r\n\t\tfont-size: 33rpx;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 50rpx;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.conteng-monthly {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.conteng-monthly text {\r\n\t\tbackground: #f1f1f1;\r\n\t\tmargin-right: 9rpx;\r\n\t\tpadding: 4rpx 13rpx;\r\n\t\tborder-radius: 7rpx;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.conteng-starting {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 50rpx;\r\n\t\tline-height: 50rpx;\r\n\t}\r\n\r\n\t.conteng-price image {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t}\r\n\r\n\t.conteng-price {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.ordering-price {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t/* 数量 */\r\n\t.amounting {\r\n\t\twidth: 50rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.conteng-hua {\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\r\n\t.conteng-shi {\r\n\t\tcolor: #fb4e44;\r\n\t\tfont-size: 33rpx;\r\n\t\twidth: 180rpx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t/* 购物车 */\r\n\t.Shopping {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.Shopping-left {\r\n\t\theight: 130rpx;\r\n\t\tbackground: #000000;\r\n\t\tflex-grow: 2;\r\n\t\tborder-top-left-radius: 50rpx;\r\n\t\tborder-bottom-left-radius: 50rpx;\r\n\t}\r\n\r\n\t.Shopping-right {\r\n\t\theight: 130rpx;\r\n\t\tline-height: 130rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #7f7f7f;\r\n\t\ttext-align: center;\r\n\t\tbackground: #000000;\r\n\t\tflex-grow: 1;\r\n\t\tborder-top-right-radius: 50rpx;\r\n\t\tborder-bottom-right-radius: 50rpx;\r\n\t}\r\n\r\n\t.Shopping-dis {\r\n\t\tdisplay: flex;\r\n\t\theight: 130rpx;\r\n\t\tmargin: 0 20rpx;\r\n\t}\r\n\r\n\t.qishou {\r\n\t\twidth: 120rpx;\r\n\t\theight: 150rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0rpx;\r\n\t\tleft: 50rpx;\r\n\t}\r\n\r\n\t.qishou image {\r\n\t\twidth: 120rpx;\r\n\t\theight: 150rpx !important;\r\n\t}\r\n\r\n\t/* 定位 */\r\n\t.Delivery {\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 28rpx;\r\n\t\theight: 65rpx;\r\n\t}\r\n\r\n\t.Shopping-left text {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.Total-price {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 65rpx;\r\n\t\tline-height: 65rpx;\r\n\t}\r\n\r\n\t.Cost-mony {\r\n\t\tpadding-left: 170rpx;\r\n\t\tcolor: #4CD964;\r\n\t\theight: 130rpx;\r\n\t}\r\n\r\n\t/* 数量 */\r\n\t.Numbering {\r\n\t\tbackground: red;\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 20rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tline-height: 40rpx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 50rpx;\r\n\t\tleft: 130rpx;\r\n\t}\r\n\r\n\t/* 选中菜品 */\r\n\t.shoppactive {\r\n\t\tbackground: #ffd300 !important;\r\n\t\tcolor: #000000 !important;\r\n\t}\r\n</style>\n","import mod from \"-!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Ordering.vue?vue&type=style&index=0&id=20b137a2&scoped=true&lang=css&\"; export default mod; export * from \"-!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\web前端课程\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Ordering.vue?vue&type=style&index=0&id=20b137a2&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1612647728111\n      var cssReload = require(\"F:/web前端课程/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}